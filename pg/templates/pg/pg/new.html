{% extends "basepg.html" %}

{% load bootstrap3 %}

{% block content %}
{% load static %}

<div class="text-center"><h2>Preinscripción General</h2></div>
<hr>

<div class="row">
<div class="col-xs-12 col-md-6">
{% if formpostulante.errors %}
<div class="alert alert-danger" role="alert">
<button class="close" type="button" data-dismiss="alert" aria-hidden="true">×</button>
<b>Tiene errores en los siguientes campos del Postulante</b>
{% for error in formpostulante.errors %}
 <p>{{ error }}</p>
{% endfor %}
</div>
{% endif %}
</div>

<div class="col-xs-12 col-md-6">
{% if formpadre.errors %}
<div class="alert alert-danger" role="alert">
<button class="close" type="button" data-dismiss="alert" aria-hidden="true">×</button>
<b>Tiene errores en los siguientes campos de Padre</b>
{% for error in formpadre.errors %}
 <p>{{ error }}</p>
{% endfor %}
</div>
{% endif %}
</div>

<div class="col-xs-12 col-md-6">
{% if formmadre.errors %}
<div class="alert alert-danger" role="alert">
<button class="close" type="button" data-dismiss="alert" aria-hidden="true">×</button>
<b>Tiene errores en los siguientes campos Madre</b>
{% for error in formmadre.errors %}
 <p>{{ error }}</p>
{% endfor %}
</div>
{% endif %}
</div>

<div class="col-xs-12 col-md-6">
{% if formtutor.errors %}
<div class="alert alert-danger" role="alert">
<button class="close" type="button" data-dismiss="alert" aria-hidden="true">×</button>
<b>Tiene errores en los siguientes campos de Tutor</b>
{% for error in formtutor.errors %}
 <p>{{ error }}</p>
{% endfor %}
</div>
{% endif %}
</div>

<div class="col-xs-12 col-md-6">
{% if formvivecon.errors %}
<div class="alert alert-danger" role="alert">
<button class="close" type="button" data-dismiss="alert" aria-hidden="true">×</button>
<b>Tiene errores en los siguientes campos de "Vive con"</b>
{% for error in formvivecon.errors %}
 <p>{{ error }}</p>
{% endfor %}
</div>
{% endif %}
</div>
</div>


<div id='progress'><div id='progress-complete'></div></div>


<form method="POST" class="pg-form" id="pgForm" novalidate>{% csrf_token %}

<fieldset id="postulante">
    <legend>Datos del Postulante</legend>
    <div class="well">
    <div class="row">
    <div class="col-md-4 col-xs-12">
    {% bootstrap_field formpostulante.apellido %}
    </div>
    <div class="col-md-4 col-xs-12">
    {% bootstrap_field formpostulante.nombre %}
    </div>
    <div class="col-md-4 col-xs-12">
    {% bootstrap_field formpostulante.fecha_nacimiento %}
    </div>
    <div class="col-md-2 col-xs-12">
    {% bootstrap_field formpostulante.genero %}
    </div>
    <div class="col-md-3 col-xs-12">
    {% bootstrap_field formpostulante.dni %}
    </div>
    <div class="col-md-7 col-xs-12">
    {% bootstrap_field formpostulante.domicilio %}
    </div>
    <div class="col-md-6 col-xs-6">
        {% bootstrap_field formpg.nivel %}
    </div>
    <div class="col-md-6 col-xs-6">
        {% bootstrap_field formpg.grado %}
    </div>
    <div class="col-md-12 col-xs-12">
        {% bootstrap_field formpg.motivo %}
    </div>
 </div>
 </div>
</fieldset>  

<fieldset>
            <legend>Datos del Padre</legend>
            <div class="well">
            <div class="row">
                <div class="col-xs-12 col-md-4">
                    {% bootstrap_field formpadre.apellido  %}
                </div>
                <div class="col-xs-12 col-md-4">
                    {% bootstrap_field formpadre.nombre  %}
                </div>
                <div class="col-xs-12 col-md-4">
                    {% bootstrap_field formpadre.dni  %}
                </div>
                <div class="col-xs-12 col-md-6">
                    {% bootstrap_field formpadre.email  %}
                </div>
                <div class="col-xs-12 col-md-6">
                    {% bootstrap_field formpadre.telefonoPersonal  %}
                </div>
                <div class="col-xs-12 col-md-6">
                    {% bootstrap_field formpadre.domicilio  %}
                </div>
                <div class="col-xs-12 col-md-6">
                    {% bootstrap_field formpadre.nacionalidad  %}
                </div>
            </div>
            </div>
            </fieldset>

            <fieldset>
            <legend>Datos de la Madre</legend>
            <div class="well">
            <div class="row">
                <div class="col-xs-12 col-md-4">
                    {% bootstrap_field formmadre.apellido  %}
                </div>
                <div class="col-xs-12 col-md-4">
                    {% bootstrap_field formmadre.nombre  %}
                </div>
                <div class="col-xs-12 col-md-4">
                    {% bootstrap_field formmadre.dni  %}
                </div>
                <div class="col-xs-12 col-md-6">
                    {% bootstrap_field formmadre.email  %}
                </div>
                <div class="col-xs-12 col-md-6">
                    {% bootstrap_field formmadre.telefonoPersonal  %}
                </div>
                <div class="col-xs-12 col-md-6">
                    {% bootstrap_field formmadre.domicilio  %}
                </div>
                <div class="col-xs-12 col-md-6">
                    {% bootstrap_field formmadre.nacionalidad  %}
                </div>
            </div>
            </div>
            </fieldset>

            <fieldset id="tutor">
            <legend>Datos del Tutor</legend>
            <h5><i>Si no tiene Tutor, dejar vacío todos los campos.</i></h5>
            <div class="well">
            <div class="row">
                <div class="col-xs-12 col-md-4">
                    {% bootstrap_field formtutor.apellido  %}
                </div>
                <div class="col-xs-12 col-md-4">
                    {% bootstrap_field formtutor.nombre  %}
                </div>
                <div class="col-xs-12 col-md-4">
                    {% bootstrap_field formtutor.dni  %}
                </div>
                <div class="col-xs-12 col-md-6">
                    {% bootstrap_field formtutor.email  %}
                </div>
                <div class="col-xs-12 col-md-6">
                    {% bootstrap_field formtutor.telefonoPersonal  %}
                </div>
                <div class="col-xs-12 col-md-6">
                    {% bootstrap_field formtutor.domicilio  %}
                </div>
                <div class="col-xs-12 col-md-6">
                    {% bootstrap_field formtutor.nacionalidad  %}
                </div>
            </div>
            </div>
            </fieldset>

            <fieldset id="vivecon">
            <legend>¿Con quién vive actualmente el niño?
            <h5><i>Si el niño vive con ambos padres puede seleccionar "Padre" ó "Madre" indistintamente, en el caso de que viva con otra persona, rellene los campos.</i></h5>
            </legend>
            <div class="well">
            <div class="row">
            
            <div class="col-xs-12 col-md-12" style="margin-top: -15px;">
            <div class="radio">
            <label class="radio-inline">
                <input type="radio" name="inlineRadioOptions" id="vivecon-padre" value="option1"> Padre
            </label>
            <label class="radio-inline">
              <input type="radio" name="inlineRadioOptions" id="vivecon-madre" value="option2"> Madre
            </label>
            <label class="radio-inline">
              <input type="radio" name="inlineRadioOptions" id="vivecon-tutor" value="option3"> Tutor
            </label>
            </div>
            <hr/>
            </div>

                <div class="col-xs-12 col-md-4">
                    {% bootstrap_field formvivecon.apellido  %}
                </div>
                <div class="col-xs-12 col-md-4">
                    {% bootstrap_field formvivecon.nombre  %}
                </div>
                <div class="col-xs-12 col-md-4">
                    {% bootstrap_field formvivecon.dni  %}
                </div>
                <div class="col-xs-12 col-md-6">
                    {% bootstrap_field formvivecon.email  %}
                </div>
                <div class="col-xs-12 col-md-6">
                    {% bootstrap_field formvivecon.telefonoPersonal  %}
                </div>
                <div class="col-xs-12 col-md-6">
                    {% bootstrap_field formvivecon.domicilio  %}
                </div>
                <div class="col-xs-12 col-md-6">
                    {% bootstrap_field formvivecon.nacionalidad  %}
                </div>
            </div>
            </div>

            <div class="checkbox">
            <label>
            {% load static %}
            <input id="terms" type="checkbox"> Acepto los términos y condiciones presentados en este 
            <a href="{% static 'preinscripcion/pdf/tyc.pdf' %}" target="_blank">link.</a> 
            </label>
            </div>
            </fieldset> 

<button type="submit" class="btn btn-success pull-right" id="preinscribirse">Preinscribirse</button>

</form>


{% load static %}
<script type="text/javascript" src="{% static 'preinscripcion/js/jquery.formtowizard.js' %}"></script>
<script type="text/javascript" src="{% static 'preinscripcion/js/jquery.validate.min.js' %}"></script>
<script type="text/javascript" src="{% static 'pg/js/formtowizard_setup.js' %}"></script>
<script type="text/javascript" src="{% static 'preinscripcion/js/validator_espaniol.js' %}"></script>
<script type="text/javascript">
    $( function() {
        $( "#{{ formpostulante.fecha_nacimiento.auto_id }}" ).datepicker(
            {   
                changeMonth: true,
                changeYear: true,
                dateFormat: "dd/mm/yy",
                firstDay: 1,
                maxDate: '-3Y',
                dayNamesMin: ["Do", "Lu", "Ma", "Mi", "Ju", "Vi", "Sa"],
                dayNamesShort: ["Dom", "Lun", "Mar", "Mie", "Jue", "Vie", "Sab"],
                monthNames: 
                    ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio",
                        "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"],
                monthNamesShort: 
                    ["Ene", "Feb", "Mar", "Abr", "May", "Jun",
                        "Jul", "Ago", "Sep", "Oct", "Nov", "Dic"]
            }
        );
    });
</script>
<script type="text/javascript">
    //$( "#{{ formpadre.domicilio.auto_id }}" ).click(alert());
</script>
<script src="{% static 'preinscripcion/js/jquery.formset.js' %}" type="text/javascript"> </script>
<script type="text/javascript">
    $('.individual-form').formset();
    $('.btn-danger').click();

    //nancy tunning // si relleno en padre tmb rellena en madre
    $(function () {

        //domicilio
        var $src_dom = $('#{{ formpadre.domicilio.auto_id }}'),
            $dst_dom = $('#{{ formmadre.domicilio.auto_id }}');
        $src_dom.on('input', function () {
        $dst_dom.val($src_dom.val());
        });

        //telefono
        var $src_tel = $('#{{ formpadre.telefonoPersonal.auto_id }}'),
            $dst_tel = $('#{{ formmadre.telefonoPersonal.auto_id }}');
        $src_tel.on('input', function () {
        $dst_tel.val($src_tel.val());
        });

        //mail
        var $src_mail = $('#{{ formpadre.email.auto_id }}'),
            $dst_mail = $('#{{ formmadre.email.auto_id }}');
        $src_mail.on('input', function () {
        $dst_mail.val($src_mail.val());
        });


        //para el formulario 0 de hnos
        //fn
        $("#id_postulante-fecha_nacimiento").keyup(function () {
        var value = $(this).val();
        $("#id_hno-0-fecha_nacimiento").val(value);
        });

        $("#id_postulante-apellido").keyup(function () {
            var value = $(this).val();
            $("#id_hno-0-apellido").val(value);
        });

        $("#id_postulante-domicilio").keyup(function () {
            var value = $(this).val();
            $("#id_hno-0-domicilio").val(value);
        });

    });

    //habilitar el boton submit cdo "Acepta los terminos y condiciones"
    $("#terms").click(function () {   
        
        if (this.checked) {
            $('#preinscribirse').prop('disabled', false);
        }else{
            $('#preinscribirse').prop('disabled', 'disabled');
        };
    }
    )

</script>


{% endblock %}
